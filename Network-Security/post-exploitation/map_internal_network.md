

# Mapping the internal network 

In the previous step, we took into account information residing on the local 
victim computer. We will now take a look at the network 


As the name suggests, the main purpose of this step is to map the internal 
organizations network in order to find other exploitable machines to get closer 
to our goal (if any in the specified engagement) 

Since we already have access to at least one internal machine, we can directly 
interact with the target environment (internal network) using it as a bridge

Again, the purpose of this step is to infiltrate and exploit more hosts

this is important when we have to prove that certain areas of the network are 
vulnerable or, when the client wants to verify the exposure of certain
information stored on given devices

While we infiltrate networks, we still have to collect this information:

Network equipment such as firewalls, switches, routers 

Other network hosts and servers - for each of them learn about OS, open ports,
exploitable services and more

Networking protocols and IP addresses

Traffic and data transmitted in the network 



# How to start mapping the Network 


Of course in a real post exploitation process, we do not know the network map
in advance. So lets see how we can figure it out, starting from the exploited
machine 

One of the simplest commands that can help us start drawing the network map is 
"ipconfig" (Windows) or "ifconfig" (Linux). The two commands will display the 
network configuration for each NIC on the machine

meterpreter allows us to run ifconfig even on windows


To print network routes use:

route print (Windows) 

route -v (Linux)


To display the ARP cache use the "arp" command

